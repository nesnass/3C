<md-tab-group>

  <md-tab label="Groupings">

    <div fxLayout="row wrap">
      <md-card *ngFor="let grouping of listingService.groupingsReverseSortedByCreationDate | async; let i=index;" class="grouping-card">

        <div *ngIf="itemToEdit !== i">
          <md-card-header>
            <div md-card-avatar>
              <md-icon md-list-icon>folder</md-icon>
            </div>
            <md-card-title>{{grouping.categoryTitle}}</md-card-title>
            <md-card-subtitle>{{grouping.categorySubtitle}}</md-card-subtitle>
          </md-card-header>
          <md-card-content>
            <p>/{{grouping.urlSlug}}</p>
            <md-chip-list>
              <md-chip *ngFor="let chip of listingService.chips">{{chip}}</md-chip>
            </md-chip-list>
          </md-card-content>
          <md-card-actions>
            <button md-line md-button (click)="itemToEdit = i">Edit</button>
            <button md-line md-button color="red" (click)="deleteAtServer(grouping)">Delete</button>
          </md-card-actions>
        </div>

        <div *ngIf="itemToEdit === i">
          <md-card-content fxLayout="column">
            <md-input-container>
              <input mdInput placeholder="Category Title" [(ngModel)]="grouping.categoryTitle" autofocus>
            </md-input-container>
            <md-input-container>
              <input mdInput placeholder="Category Subtitle" [(ngModel)]="grouping.categorySubtitle">
            </md-input-container>
            <md-input-container>
              <input mdInput placeholder="URL" [(ngModel)]="grouping.urlSlug">
            </md-input-container>
          </md-card-content>

          <md-card-actions>
            <button md-button (click)="updateToServer(grouping); itemToEdit = -1">Done</button>
          </md-card-actions>
        </div>

      </md-card>

      <md-card class="grouping-card">
        <md-card-header>
          <div md-card-avatar>
            <md-icon md-list-icon>add</md-icon>
          </div>
          <md-card-title><a md-button (click)="addGrouping()">New Grouping</a></md-card-title>
        </md-card-header>
        <md-card-content></md-card-content>
      </md-card>

    </div>
  </md-tab>


  <md-tab label="Contributions">
    <md-list>
      <md-list-item *ngFor="let contribution of listingService.contributions | async">
        <img md-list-avatar [src]="contribution.image.url" alt="Preview of this image">
        <p md-line> {{contribution.caption}} </p>
      </md-list-item>
    </md-list>
  </md-tab>

</md-tab-group>
